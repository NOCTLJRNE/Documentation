<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pegs Module Creator Tutorial | Komodo Documentation</title>
    <meta name="description" content="Documentation for developers building on Komodo">
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PC28587');</script>
  <link rel="icon" href="KMD_Mark_Black.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@komodoplatform">
  <meta name="twitter:title" content="Komodo Documentation">
  <meta name="twitter:description" content="Documentation for developers building on the Komodo Platform">
  <meta name="twitter:image" content="https://docs.komodoplatform.com/Dev_Docs_Introduction_small.png">
    <link rel="preload" href="/assets/css/0.styles.7c88946f.css" as="style"><link rel="preload" href="/assets/js/app.b45dc09f.js" as="script"><link rel="preload" href="/assets/js/3.f69df0a3.js" as="script"><link rel="preload" href="/assets/js/6.2478bcf7.js" as="script"><link rel="preload" href="/assets/js/62.563c0556.js" as="script"><link rel="preload" href="/assets/js/10.4572f463.js" as="script"><link rel="prefetch" href="/assets/js/100.40fbb18c.js"><link rel="prefetch" href="/assets/js/101.6af4e59d.js"><link rel="prefetch" href="/assets/js/102.e31d7917.js"><link rel="prefetch" href="/assets/js/103.7034e300.js"><link rel="prefetch" href="/assets/js/104.997595df.js"><link rel="prefetch" href="/assets/js/105.2ace76a7.js"><link rel="prefetch" href="/assets/js/106.57ad0375.js"><link rel="prefetch" href="/assets/js/107.d83caee0.js"><link rel="prefetch" href="/assets/js/108.2e314f33.js"><link rel="prefetch" href="/assets/js/109.c9fc1914.js"><link rel="prefetch" href="/assets/js/11.1647ab5d.js"><link rel="prefetch" href="/assets/js/110.71a9b184.js"><link rel="prefetch" href="/assets/js/111.ec462343.js"><link rel="prefetch" href="/assets/js/112.b6d7513f.js"><link rel="prefetch" href="/assets/js/113.b7455533.js"><link rel="prefetch" href="/assets/js/114.16f58847.js"><link rel="prefetch" href="/assets/js/115.c951fed5.js"><link rel="prefetch" href="/assets/js/116.abfa2c13.js"><link rel="prefetch" href="/assets/js/117.5836c950.js"><link rel="prefetch" href="/assets/js/118.caf68876.js"><link rel="prefetch" href="/assets/js/119.6c0473ed.js"><link rel="prefetch" href="/assets/js/12.bc88b130.js"><link rel="prefetch" href="/assets/js/120.c446d1e9.js"><link rel="prefetch" href="/assets/js/121.a3b8ae14.js"><link rel="prefetch" href="/assets/js/122.da410d03.js"><link rel="prefetch" href="/assets/js/123.a5711a72.js"><link rel="prefetch" href="/assets/js/124.bcfca29b.js"><link rel="prefetch" href="/assets/js/125.9786844d.js"><link rel="prefetch" href="/assets/js/126.ffb5aae0.js"><link rel="prefetch" href="/assets/js/127.d3b383af.js"><link rel="prefetch" href="/assets/js/128.4041f8ea.js"><link rel="prefetch" href="/assets/js/129.bd23dd41.js"><link rel="prefetch" href="/assets/js/13.cfa09791.js"><link rel="prefetch" href="/assets/js/130.53aa8c25.js"><link rel="prefetch" href="/assets/js/131.dc385931.js"><link rel="prefetch" href="/assets/js/132.18cd395a.js"><link rel="prefetch" href="/assets/js/133.750fec4f.js"><link rel="prefetch" href="/assets/js/134.c63f0a55.js"><link rel="prefetch" href="/assets/js/135.3fd4e914.js"><link rel="prefetch" href="/assets/js/136.87fd8e66.js"><link rel="prefetch" href="/assets/js/137.df5824ff.js"><link rel="prefetch" href="/assets/js/138.ddc4f4dc.js"><link rel="prefetch" href="/assets/js/139.0257e128.js"><link rel="prefetch" href="/assets/js/14.9a0ef1b6.js"><link rel="prefetch" href="/assets/js/140.79e8d0f0.js"><link rel="prefetch" href="/assets/js/141.54c1cca1.js"><link rel="prefetch" href="/assets/js/142.9d33d0a8.js"><link rel="prefetch" href="/assets/js/143.fd5186b5.js"><link rel="prefetch" href="/assets/js/144.8d090c95.js"><link rel="prefetch" href="/assets/js/145.482310b2.js"><link rel="prefetch" href="/assets/js/146.76608115.js"><link rel="prefetch" href="/assets/js/147.4697a04d.js"><link rel="prefetch" href="/assets/js/148.61c93f8d.js"><link rel="prefetch" href="/assets/js/149.d0ecdee5.js"><link rel="prefetch" href="/assets/js/15.775934fd.js"><link rel="prefetch" href="/assets/js/150.c40b8308.js"><link rel="prefetch" href="/assets/js/151.29c90230.js"><link rel="prefetch" href="/assets/js/152.ce42968c.js"><link rel="prefetch" href="/assets/js/153.45df138c.js"><link rel="prefetch" href="/assets/js/154.c8ce6ca0.js"><link rel="prefetch" href="/assets/js/155.f9e7d3bb.js"><link rel="prefetch" href="/assets/js/156.24d7699b.js"><link rel="prefetch" href="/assets/js/157.749ee62a.js"><link rel="prefetch" href="/assets/js/158.ae507d61.js"><link rel="prefetch" href="/assets/js/159.2ac740ed.js"><link rel="prefetch" href="/assets/js/16.840d4b76.js"><link rel="prefetch" href="/assets/js/160.f95f0689.js"><link rel="prefetch" href="/assets/js/161.bc69da8f.js"><link rel="prefetch" href="/assets/js/162.f567e64d.js"><link rel="prefetch" href="/assets/js/163.47979ec0.js"><link rel="prefetch" href="/assets/js/164.e6511734.js"><link rel="prefetch" href="/assets/js/165.121da06f.js"><link rel="prefetch" href="/assets/js/166.91e5770e.js"><link rel="prefetch" href="/assets/js/167.22046637.js"><link rel="prefetch" href="/assets/js/168.458bdbe0.js"><link rel="prefetch" href="/assets/js/169.173b6a86.js"><link rel="prefetch" href="/assets/js/17.1c003429.js"><link rel="prefetch" href="/assets/js/170.52928465.js"><link rel="prefetch" href="/assets/js/171.182cdebf.js"><link rel="prefetch" href="/assets/js/172.89ab4eac.js"><link rel="prefetch" href="/assets/js/173.254a24aa.js"><link rel="prefetch" href="/assets/js/174.2850b702.js"><link rel="prefetch" href="/assets/js/175.70a5a337.js"><link rel="prefetch" href="/assets/js/176.0025470b.js"><link rel="prefetch" href="/assets/js/177.c7a1aff2.js"><link rel="prefetch" href="/assets/js/178.3dbd0e96.js"><link rel="prefetch" href="/assets/js/179.99ef0ff6.js"><link rel="prefetch" href="/assets/js/18.be01e508.js"><link rel="prefetch" href="/assets/js/180.b034e3e5.js"><link rel="prefetch" href="/assets/js/181.3b21ea4f.js"><link rel="prefetch" href="/assets/js/182.d2de8761.js"><link rel="prefetch" href="/assets/js/183.6ea28faa.js"><link rel="prefetch" href="/assets/js/184.8df54a71.js"><link rel="prefetch" href="/assets/js/185.5109fe23.js"><link rel="prefetch" href="/assets/js/186.701798f4.js"><link rel="prefetch" href="/assets/js/187.8fa52e8a.js"><link rel="prefetch" href="/assets/js/188.6900268d.js"><link rel="prefetch" href="/assets/js/189.68935789.js"><link rel="prefetch" href="/assets/js/19.477bedef.js"><link rel="prefetch" href="/assets/js/190.8165cb4b.js"><link rel="prefetch" href="/assets/js/191.aff0aa42.js"><link rel="prefetch" href="/assets/js/192.e3893b71.js"><link rel="prefetch" href="/assets/js/193.d40fc883.js"><link rel="prefetch" href="/assets/js/194.eaf5b7f8.js"><link rel="prefetch" href="/assets/js/195.dc81552e.js"><link rel="prefetch" href="/assets/js/196.0234393b.js"><link rel="prefetch" href="/assets/js/197.b66319a4.js"><link rel="prefetch" href="/assets/js/198.46710c6e.js"><link rel="prefetch" href="/assets/js/199.88c29a2a.js"><link rel="prefetch" href="/assets/js/20.5c68ffa0.js"><link rel="prefetch" href="/assets/js/200.0dec549f.js"><link rel="prefetch" href="/assets/js/201.5f3ed2a0.js"><link rel="prefetch" href="/assets/js/202.262fac24.js"><link rel="prefetch" href="/assets/js/203.6dcb091b.js"><link rel="prefetch" href="/assets/js/204.bad37cbf.js"><link rel="prefetch" href="/assets/js/205.1d965f8a.js"><link rel="prefetch" href="/assets/js/206.fdd59a5b.js"><link rel="prefetch" href="/assets/js/207.ec827389.js"><link rel="prefetch" href="/assets/js/208.a0985984.js"><link rel="prefetch" href="/assets/js/209.7108dcf0.js"><link rel="prefetch" href="/assets/js/21.e705e33d.js"><link rel="prefetch" href="/assets/js/210.c94d6c83.js"><link rel="prefetch" href="/assets/js/211.cedd57bc.js"><link rel="prefetch" href="/assets/js/212.0c18e63d.js"><link rel="prefetch" href="/assets/js/213.4e655100.js"><link rel="prefetch" href="/assets/js/214.ac5e924e.js"><link rel="prefetch" href="/assets/js/215.edaf9f32.js"><link rel="prefetch" href="/assets/js/216.cefff925.js"><link rel="prefetch" href="/assets/js/217.b630df92.js"><link rel="prefetch" href="/assets/js/218.423b4052.js"><link rel="prefetch" href="/assets/js/219.55e83f26.js"><link rel="prefetch" href="/assets/js/22.1bb18f23.js"><link rel="prefetch" href="/assets/js/220.ed39f01d.js"><link rel="prefetch" href="/assets/js/221.aba52b91.js"><link rel="prefetch" href="/assets/js/222.060fbea1.js"><link rel="prefetch" href="/assets/js/223.2c9bf02e.js"><link rel="prefetch" href="/assets/js/224.45196540.js"><link rel="prefetch" href="/assets/js/225.5f677ee1.js"><link rel="prefetch" href="/assets/js/226.bd89f669.js"><link rel="prefetch" href="/assets/js/227.c783d0b8.js"><link rel="prefetch" href="/assets/js/228.6f764182.js"><link rel="prefetch" href="/assets/js/229.1e0a3fe8.js"><link rel="prefetch" href="/assets/js/23.32b09af2.js"><link rel="prefetch" href="/assets/js/230.b54c7175.js"><link rel="prefetch" href="/assets/js/231.c3b80dc1.js"><link rel="prefetch" href="/assets/js/232.9e8489fd.js"><link rel="prefetch" href="/assets/js/233.14671514.js"><link rel="prefetch" href="/assets/js/234.112af4b4.js"><link rel="prefetch" href="/assets/js/235.26149635.js"><link rel="prefetch" href="/assets/js/236.6b95178b.js"><link rel="prefetch" href="/assets/js/237.bac395a3.js"><link rel="prefetch" href="/assets/js/238.6e05d10a.js"><link rel="prefetch" href="/assets/js/239.03b54cf7.js"><link rel="prefetch" href="/assets/js/24.541b58ea.js"><link rel="prefetch" href="/assets/js/240.7d794b7f.js"><link rel="prefetch" href="/assets/js/241.5d0fc429.js"><link rel="prefetch" href="/assets/js/25.ac53c80b.js"><link rel="prefetch" href="/assets/js/26.31d36ee1.js"><link rel="prefetch" href="/assets/js/27.6111bce5.js"><link rel="prefetch" href="/assets/js/28.22554980.js"><link rel="prefetch" href="/assets/js/29.87d70562.js"><link rel="prefetch" href="/assets/js/30.548d29f6.js"><link rel="prefetch" href="/assets/js/31.27dae480.js"><link rel="prefetch" href="/assets/js/32.e66392e6.js"><link rel="prefetch" href="/assets/js/33.be592a44.js"><link rel="prefetch" href="/assets/js/34.e4f30f71.js"><link rel="prefetch" href="/assets/js/35.179c80ca.js"><link rel="prefetch" href="/assets/js/36.565c979a.js"><link rel="prefetch" href="/assets/js/37.d9e0cb89.js"><link rel="prefetch" href="/assets/js/38.1bdffd14.js"><link rel="prefetch" href="/assets/js/39.beb72332.js"><link rel="prefetch" href="/assets/js/4.0e0987e2.js"><link rel="prefetch" href="/assets/js/40.3d916ea0.js"><link rel="prefetch" href="/assets/js/41.a965bcdb.js"><link rel="prefetch" href="/assets/js/42.30e61d2d.js"><link rel="prefetch" href="/assets/js/43.1a61c492.js"><link rel="prefetch" href="/assets/js/44.92379fb9.js"><link rel="prefetch" href="/assets/js/45.4bdbe3e5.js"><link rel="prefetch" href="/assets/js/46.a204951e.js"><link rel="prefetch" href="/assets/js/47.080592bd.js"><link rel="prefetch" href="/assets/js/48.48039b06.js"><link rel="prefetch" href="/assets/js/49.eb317332.js"><link rel="prefetch" href="/assets/js/5.b8dbd50e.js"><link rel="prefetch" href="/assets/js/50.2f899ca2.js"><link rel="prefetch" href="/assets/js/51.477c72a5.js"><link rel="prefetch" href="/assets/js/52.4cc89f54.js"><link rel="prefetch" href="/assets/js/53.f2643566.js"><link rel="prefetch" href="/assets/js/54.40455d37.js"><link rel="prefetch" href="/assets/js/55.a38c9502.js"><link rel="prefetch" href="/assets/js/56.dfd45c22.js"><link rel="prefetch" href="/assets/js/57.89bda7ed.js"><link rel="prefetch" href="/assets/js/58.c0b86ddc.js"><link rel="prefetch" href="/assets/js/59.d4f7a98e.js"><link rel="prefetch" href="/assets/js/60.97d4e85e.js"><link rel="prefetch" href="/assets/js/61.062b9602.js"><link rel="prefetch" href="/assets/js/63.0f2ec49e.js"><link rel="prefetch" href="/assets/js/64.073a8f78.js"><link rel="prefetch" href="/assets/js/65.4dceed17.js"><link rel="prefetch" href="/assets/js/66.4ea52f7b.js"><link rel="prefetch" href="/assets/js/67.f8f5774b.js"><link rel="prefetch" href="/assets/js/68.90fc8ad2.js"><link rel="prefetch" href="/assets/js/69.21fd2b9f.js"><link rel="prefetch" href="/assets/js/7.a186170a.js"><link rel="prefetch" href="/assets/js/70.cc5f65a3.js"><link rel="prefetch" href="/assets/js/71.b50657c6.js"><link rel="prefetch" href="/assets/js/72.78e5edc7.js"><link rel="prefetch" href="/assets/js/73.b6ef20b3.js"><link rel="prefetch" href="/assets/js/74.9d987858.js"><link rel="prefetch" href="/assets/js/75.95d455a2.js"><link rel="prefetch" href="/assets/js/76.52f891e1.js"><link rel="prefetch" href="/assets/js/77.963eaaba.js"><link rel="prefetch" href="/assets/js/78.68193d46.js"><link rel="prefetch" href="/assets/js/79.d59f01a5.js"><link rel="prefetch" href="/assets/js/8.2d90373d.js"><link rel="prefetch" href="/assets/js/80.e9eadf55.js"><link rel="prefetch" href="/assets/js/81.32b0234d.js"><link rel="prefetch" href="/assets/js/82.1b71b4bc.js"><link rel="prefetch" href="/assets/js/83.97056fad.js"><link rel="prefetch" href="/assets/js/84.e5a33c2e.js"><link rel="prefetch" href="/assets/js/85.09bf9f72.js"><link rel="prefetch" href="/assets/js/86.a84a9689.js"><link rel="prefetch" href="/assets/js/87.08f7a859.js"><link rel="prefetch" href="/assets/js/88.944c95da.js"><link rel="prefetch" href="/assets/js/89.63d7353a.js"><link rel="prefetch" href="/assets/js/9.fe851079.js"><link rel="prefetch" href="/assets/js/90.64dec5a0.js"><link rel="prefetch" href="/assets/js/91.ec28f021.js"><link rel="prefetch" href="/assets/js/92.33c59dd5.js"><link rel="prefetch" href="/assets/js/93.5517c264.js"><link rel="prefetch" href="/assets/js/94.b537899f.js"><link rel="prefetch" href="/assets/js/95.3c37a7f8.js"><link rel="prefetch" href="/assets/js/96.d74aa316.js"><link rel="prefetch" href="/assets/js/97.c349a237.js"><link rel="prefetch" href="/assets/js/98.ade4fa04.js"><link rel="prefetch" href="/assets/js/99.52ceb137.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.f0a3d0e8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7c88946f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/KMD_Mark_White.png" alt="Komodo Documentation" class="logo"></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/basic-docs/start-here/outline-for-new-developers.html" class="nav-link">Start Here</a></div><div class="nav-item"><a href="/basic-docs/smart-chains/introduction-to-smart-chain-documentation.html" class="nav-link">Smart Chain Essentials</a></div><div class="nav-item"><a href="/basic-docs/antara/introduction-to-antara.html" class="nav-link">Antara Framework</a></div><div class="nav-item"><a href="/basic-docs/atomicdex/introduction-to-atomicdex.html" class="nav-link">AtomicDEX</a></div><div class="nav-item"><a href="/komodo/installation.html" class="nav-link">Komodo</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cc-jl/introduction.html" class="nav-link">CC Book</a></li><li class="dropdown-item"><!----> <a href="/notary/setup-Komodo-Notary-Node.html" class="nav-link">Notary Nodes</a></li><li class="dropdown-item"><!----> <a href="/mmV1/introduction.html" class="nav-link">Marketmaker V1</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/smart-chains/smart-chain-setup/nspv.html" class="nav-link">nSPV</a></li><li class="dropdown-item"><!----> <a href="/gui/agama/introduction.html" class="nav-link">Agama</a></li><li class="dropdown-item"><!----> <a href="/qa/debug-Komodo.html" class="nav-link">QA and Testing</a></li><li class="dropdown-item"><!----> <a href="/whitepaper/introduction.html" class="nav-link">Whitepaper</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resources" class="dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resources/list-all-KomodoPlatform-repos-links.html" class="nav-link">Komodo Platform</a></li><li class="dropdown-item"><!----> <a href="/resources/third-party-repos-resources.html" class="nav-link">Third Party</a></li></ul></div></div><div class="nav-item"><a href="https://komodoplatform.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KomodoPlatform.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/komodoplatform/Documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/basic-docs/start-here/outline-for-new-developers.html" class="nav-link">Start Here</a></div><div class="nav-item"><a href="/basic-docs/smart-chains/introduction-to-smart-chain-documentation.html" class="nav-link">Smart Chain Essentials</a></div><div class="nav-item"><a href="/basic-docs/antara/introduction-to-antara.html" class="nav-link">Antara Framework</a></div><div class="nav-item"><a href="/basic-docs/atomicdex/introduction-to-atomicdex.html" class="nav-link">AtomicDEX</a></div><div class="nav-item"><a href="/komodo/installation.html" class="nav-link">Komodo</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cc-jl/introduction.html" class="nav-link">CC Book</a></li><li class="dropdown-item"><!----> <a href="/notary/setup-Komodo-Notary-Node.html" class="nav-link">Notary Nodes</a></li><li class="dropdown-item"><!----> <a href="/mmV1/introduction.html" class="nav-link">Marketmaker V1</a></li><li class="dropdown-item"><!----> <a href="/basic-docs/smart-chains/smart-chain-setup/nspv.html" class="nav-link">nSPV</a></li><li class="dropdown-item"><!----> <a href="/gui/agama/introduction.html" class="nav-link">Agama</a></li><li class="dropdown-item"><!----> <a href="/qa/debug-Komodo.html" class="nav-link">QA and Testing</a></li><li class="dropdown-item"><!----> <a href="/whitepaper/introduction.html" class="nav-link">Whitepaper</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Resources" class="dropdown-title"><span class="title">Resources</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/resources/list-all-KomodoPlatform-repos-links.html" class="nav-link">Komodo Platform</a></li><li class="dropdown-item"><!----> <a href="/resources/third-party-repos-resources.html" class="nav-link">Third Party</a></li></ul></div></div><div class="nav-item"><a href="https://komodoplatform.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  KomodoPlatform.com
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/komodoplatform/Documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/basic-docs/antara/introduction-to-antara.html" class="sidebar-link">Introduction to Antara Documentation</a></li><li><a href="/basic-docs/antara/antara-setup/antara-customizations.html" class="sidebar-link">Antara Customizations</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Antara Tutorials</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/basic-docs/antara/antara-tutorials/introduction-to-antara-tutorials.html" class="sidebar-link">Introduction to Antara Tutorials</a></li><li><a href="/basic-docs/antara/antara-tutorials/understanding-antara-addresses.html" class="sidebar-link">Understanding Antara Addresses</a></li><li><a href="/basic-docs/antara/antara-tutorials/overview-of-antara-modules-part-i.html" class="sidebar-link">Overview of Antara Modules — Part I</a></li><li><a href="/basic-docs/antara/antara-tutorials/overview-of-antara-modules-part-ii.html" class="sidebar-link">Overview of Antara Modules — Part II</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-0.html" class="sidebar-link">Beginner Series — Preparation</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-1.html" class="sidebar-link">Beginner Series — Create a Blockchain</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-2.html" class="sidebar-link">Beginner Series — Using a Faucet</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-3.html" class="sidebar-link">Beginner Series — Connecting to Another Programming Environment</a></li><li><a href="/basic-docs/antara/antara-tutorials/beginner-series-part-4.html" class="sidebar-link">Beginner Series — Understanding Tokens</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-0.html" class="sidebar-link">Advanced Series — Introduction</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-1.html" class="sidebar-link">Advanced Series — Smart Chain Development Basics</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-2.html" class="sidebar-link">Advanced Series — Antara Module Development Basics</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-3.html" class="sidebar-link">Advanced Series — Preparing for Heir Development</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-4.html" class="sidebar-link">Advanced Series — Final Conceptual Discussion</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-5.html" class="sidebar-link">Advanced Series — Developing the Heir Module Prototype</a></li><li><a href="/basic-docs/antara/antara-tutorials/advanced-series-6.html" class="sidebar-link">Advanced Series — Miscellaneous</a></li><li><a href="/basic-docs/antara/antara-tutorials/dilithium-module-tutorial.html" class="sidebar-link">Module Tutorial — Dilithium</a></li><li><a href="/basic-docs/antara/antara-tutorials/gateways-module-tutorial.html" class="sidebar-link">Module Tutorial — Gateways</a></li><li><a href="/basic-docs/antara/antara-tutorials/musig-module-tutorial.html" class="sidebar-link">Module Tutorial — Musig</a></li><li><a href="/basic-docs/antara/antara-tutorials/rogue-module-tutorial.html" class="sidebar-link">Module Tutorial — Rogue</a></li><li><a href="/basic-docs/antara/antara-tutorials/pegs-module-user-tutorial.html" class="sidebar-link">Module Tutorial — Pegs | User</a></li><li><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html" class="active sidebar-link">Module Tutorial — Pegs | Creator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#tutorial-overview" class="sidebar-link">Tutorial Overview</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#build-the-komodo-daemon" class="sidebar-link">Build the Komodo daemon</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#launch-the-test-smart-chain" class="sidebar-link">Launch the Test Smart Chain</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#create-a-token-to-represent-kmd-coins" class="sidebar-link">Create a Token to Represent KMD Coins</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#create-an-oracle" class="sidebar-link">Create an Oracle</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#bind-the-token-and-oracle-to-a-gateway" class="sidebar-link">Bind the Token and Oracle to a Gateway</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#start-the-oraclefeed-software" class="sidebar-link">Start the oraclefeed software</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#create-the-peg" class="sidebar-link">Create the Peg</a></li><li class="sidebar-sub-header"><a href="/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.html#test-the-setup" class="sidebar-link">Test the Setup</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Antara Modules</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="pegs-module-creator-tutorial"><a href="#pegs-module-creator-tutorial" class="header-anchor">#</a> Pegs Module Creator Tutorial</h1> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The Pegs Module is in the final stages of production.</p> <p>The following tutorial is currently only compatible with computer-hardware setups that are running Linux OS's Ubuntu/Debian-based distributions.</p> <p>For questions and assistance, please reach out to the Komodo team using the <code>#cc-pegs</code> channel on the <a href="https://komodoplatform.com/discord" target="_blank" rel="noopener noreferrer">Komodo Discord<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> live-chat server. Thank you.</p></div> <h2 id="tutorial-overview"><a href="#tutorial-overview" class="header-anchor">#</a> Tutorial Overview</h2> <p>This tutorial assists the reader in discovering the process of creating a new Smart Chain with an active stablecoin using the <a href="/basic-docs/antara/antara-tutorials/pegs.html">Pegs Antara Module.</a></p> <h4 id="tutorial-outline"><a href="#tutorial-outline" class="header-anchor">#</a> Tutorial Outline</h4> <ul><li>Launch a new test Smart Chain (<code>CREATORUSDK</code>) to activate the Pegs Module</li> <li>Peg the test chain's coins to <code>USD</code> and create a pathway for users to back the stablecoin with <code>KMD</code></li> <li>Create tokens to represent the <code>KMD</code> coins</li> <li>Create an oracle, register as a publisher, and subscribe to it</li> <li>Create a gateway and bind the previously created token and oracle to it</li> <li>Start the <code>oraclefeed</code> software to bring the <code>blockheader</code> data from the <code>KMD</code> chain to the <code>CREATORUSDK</code> chain through the oracle</li> <li>Create a peg by attaching the gateway to it</li></ul> <p>Upon completion of this tutorial, the reader may follow the <a href="/basic-docs/antara/antara-tutorials/pegs-module-user-tutorial.html">user tutorial</a> and use the Smart Chain created here to discover the possibilities of the Pegs Module.</p> <h2 id="installation"><a href="#installation" class="header-anchor">#</a> Installation</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>The following installation procedure creates a version of the Komodo software daemon that should not be used for any purpose other than testing. Several of the customizations active on this particular version of the daemon are intended for testing purposes only.</p></div> <h4 id="dependencies"><a href="#dependencies" class="header-anchor">#</a> Dependencies</h4> <p>Execute the following commands to install the necessary dependencies.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade -y
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> build-essential pkg-config libc6-dev m4 g++-multilib autoconf libtool ncurses-dev <span class="token function">unzip</span> <span class="token function">git</span> python zlib1g-dev <span class="token function">wget</span> bsdmainutils automake libboost-all-dev libssl-dev libprotobuf-dev protobuf-compiler libgtest-dev libqt4-dev libqrencode-dev libdb++-dev ntp ntpdate software-properties-common <span class="token function">curl</span> clang libcurl4-gnutls-dev cmake clang libsodium-dev -y
</code></pre></div><h4 id="create-a-swap-partition-optional"><a href="#create-a-swap-partition-optional" class="header-anchor">#</a> Create a Swap Partition (Optional)</h4> <p>For tutorial users using a VPS with a low amount of RAM, create a swap partition.</p> <p>On the VPS, execute the following commands to create a 4GB SWAP file. (If sufficient space is available, consider creating an 8GB swap file instead, as this can facilitate better software performance.)</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">swapon</span> --show
<span class="token function">free</span> -h
<span class="token function">df</span> -h
<span class="token function">sudo</span> fallocate -l 4G /swapfile
<span class="token function">ls</span> -lh /swapfile
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">600</span> /swapfile
<span class="token function">ls</span> -lh /swapfile
<span class="token function">sudo</span> <span class="token function">mkswap</span> /swapfile
<span class="token function">sudo</span> <span class="token function">swapon</span> /swapfile
<span class="token function">sudo</span> <span class="token function">swapon</span> --show
<span class="token function">free</span> -h
<span class="token function">sudo</span> <span class="token function">cp</span> /etc/fstab /etc/fstab.bak
<span class="token builtin class-name">echo</span> <span class="token string">'/swapfile none swap sw 0 0'</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/fstab
<span class="token function">sudo</span> sysctl vm.swappiness<span class="token operator">=</span><span class="token number">10</span> <span class="token comment"># This setting will persist until the next reboot. We can set this value automatically at restart by adding the line to our /etc/sysctl.conf file:</span>
<span class="token function">sudo</span> <span class="token function">nano</span> /etc/sysctl.conf
vm.swappiness<span class="token operator">=</span><span class="token number">10</span>
</code></pre></div><h2 id="build-the-komodo-daemon"><a href="#build-the-komodo-daemon" class="header-anchor">#</a> Build the Komodo daemon</h2> <p>Execute the following commands to build the Komodo daemon.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/Mixa84/komodo
<span class="token builtin class-name">cd</span> komodo
<span class="token function">git</span> checkout pegsCC
<span class="token builtin class-name">export</span> <span class="token assign-left variable">CONFIGURE_FLAGS</span><span class="token operator">=</span><span class="token string">'CPPFLAGS=-DTESTMODE'</span> <span class="token comment"># Tweaks some settings to make it easy for testing</span>
./zcutil/fetch-params.sh
./zcutil/build.sh -j<span class="token variable"><span class="token variable">$(</span>nproc<span class="token variable">)</span></span>
<span class="token builtin class-name">cd</span> src
</code></pre></div><p>This tutorial requires that the tutorial reader compile the Komodo daemon from source code. For more instructions, please see the <a href="#installation">installation section</a> .If you have access to two VPS, follow <a href="/basic-docs/smart-chains/smart-chain-tutorials/create-a-default-smart-chain.html">this guide</a>. If you want to launch this Smart Chain in your Personal Computer or using a single VPS, follow <a href="/basic-docs/smart-chains/smart-chain-tutorials/creating-a-smart-chain-on-a-single-node.html">this guide</a></p> <h4 id="obtain-a-pubkey"><a href="#obtain-a-pubkey" class="header-anchor">#</a> Obtain a pubkey</h4> <p>Recall also that a user must have a <code>pubkey</code> enabled when interacting with an Antara-related Smart Chain. <a href="/basic-docs/antara/antara-tutorials/understanding-antara-addresses.html">View this linked material for an explanation.</a></p> <h2 id="launch-the-test-smart-chain"><a href="#launch-the-test-smart-chain" class="header-anchor">#</a> Launch the Test Smart Chain</h2> <p>The command below creates and launches a new Smart Chain.</p> <p>The following list explains a few of the Smart Chain customizations that are necessary and desirable for a Smart Chain designed for testing purposes.</p> <ul><li><code>-ac_name=CREATORUSDK</code> — the name of this Smart Chain is set to <code>CREATORUSDK</code></li> <li><code>-ac_import=PEGSCC</code> — the key customization that activated the Pegs Antara Module on the new Smart Chain</li> <li><code>-ac_end=1</code> — sets the mining block reward to zero (after the first block)</li> <li><code>-debug</code> — a debug parameter that instructs the daemon to track various information for console output</li> <li><code>-printoconsole</code> — instructs the daemon to print the information from the <code>debug</code> parameter to the console</li> <li><code>-ac_supply=1000000</code> — the amount of intial coin supply for the chain (an arbitrary amount here that includes enough coin to manage testing purposes of the chain)</li></ul> <p>Consult the <a href="/basic-docs/antara/antara-setup/antara-customizations.html">Antara Customizations</a> documentation for explanations of the other parameters in the command.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodod -ac_supply<span class="token operator">=</span><span class="token number">1000000</span> -ac_reward<span class="token operator">=</span><span class="token number">10000</span> -ac_name<span class="token operator">=</span>CREATORUSDK -ac_cc<span class="token operator">=</span><span class="token number">2</span> -ac_import<span class="token operator">=</span>PEGSCC -ac_end<span class="token operator">=</span><span class="token number">1</span> -ac_perc<span class="token operator">=</span><span class="token number">0</span> -ac_cbopret<span class="token operator">=</span><span class="token number">5</span> -debug<span class="token operator">=</span>pegscc-2 -debug<span class="token operator">=</span>importcoin -debug<span class="token operator">=</span>cctokens -debug<span class="token operator">=</span>gatewayscc -printtoconsole<span class="token operator">=</span><span class="token number">1</span>
</code></pre></div><h2 id="create-a-token-to-represent-kmd-coins"><a href="#create-a-token-to-represent-kmd-coins" class="header-anchor">#</a> Create a Token to Represent KMD Coins</h2> <p>To create tokens that are capable of representing <code>KMD</code> (although the tokens are not yet tied to actual <code>KMD</code>), execute the following command on the test chain.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK tokencreate KMD <span class="token number">100000</span> <span class="token string">&quot;KMD_BTC,BTC_USD,*,1&quot;</span>
</code></pre></div><p>This creates a total of <code>100000 * 10^8</code> tokens named <code>KMD</code> on the <code>CREATORUSDK</code> chain. Each token is capable of representing a single satoshi of the external coin <code>KMD</code>.</p> <p>All the tokens combined allow up to <code>100000</code> <code>KMD</code> coins on the <code>CREATORUSDK</code> chain.</p> <p>The description of the token, <code>&quot;KMD_BTC,BTC_USD,*,1&quot;</code> specifies the synthetic price to be used by a peg (not yet created).</p> <p><code>&quot;KMD_BTC,BTC_USD,*,1&quot;</code> means <code>(KMD/BTC) * (BTC/USD) * 1</code>. This simplifies to <code>KMD/USD</code>, which provides an exchange price between the two currencies. This provides the necessary information to peg the <code>CREATORUSDK</code> stablecoin to <code>USD</code> and to back the coin using <code>KMD</code>.</p> <p>The command returns a hex value as a response.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;hex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0100000001c05c55f5183a412750a912579bf5f915a261b68d51b2ce5e2664659e9dcce3010000000049483045022100e4a0fffaf4aa10be58716561a1f2043dfdc2c3a4b595e74031582bac9edcc7690220211a5984f8ab480ff7641073f9dc8622b02ee602228fe27fda788443cd6aadb401ffffffff041027000000000000302ea22c8020432de388aabcb6b4e3326351d1d815cee8be9a8d37b055cd1c0cf8782e5c50c08103120c008203000401cc00a0724e18090000302ea22c80205dcc33b0b3f0573b306ab85ffa9ce8622fbcb81cb6ad8ec00f366935bbf500f78103120c008203000401cc1f0493c2da510000232102d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567ac0000000000000000426a40f2632102d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567074b4d4454455354134b4d445f4254432c4254435f5553442c2a2c3100000000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Select the hex value (<code>0100000001c05c55f5183a412750a...</code>) and copy it using (CTRL + SHFT + C).</p> <p>Broadcast this value using <a href="/basic-docs/smart-chains/smart-chain-api/rawtransactions.html#sendrawtransaction">sendrawtransaction.</a></p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK sendrawtransaction insert_hex
</code></pre></div><p>The value of the response is called the <code>tokenid</code>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>0946d12135cca0757a12931944ff930657f21fd676966c12d66d5750848ea712
</code></pre></div><p>Copy the <code>tokenid</code> into a text editor and keep it available for future use.</p> <p>Watch the mempool using <a href="/basic-docs/smart-chains/smart-chain-api/blockchain.html#getrawmempool">getrawmempool</a> to verify that the <code>tokenid</code> is successfully mined.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK getrawmempool
</code></pre></div><p>Once the <code>tokenid</code> disappears from the mempool the transaction is mined.</p> <p>Use <a href="/basic-docs/antara/antara-api/tokens.html#tokeninfo">tokeninfo</a> to check that the token is successfully created.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK tokeninfo 0946d12135cca0757a12931944ff930657f21fd676966c12d66d5750848ea712
</code></pre></div><div class="collapsed"><button>Show Response</button> <div style="display:none;"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tokenid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0946d12135cca0757a12931944ff930657f21fd676966c12d66d5750848ea712&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;owner&quot;</span><span class="token operator">:</span> <span class="token string">&quot;02d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KMD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;supply&quot;</span><span class="token operator">:</span> <span class="token number">10000000000000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KMD_BTC,BTC_USD,*,1&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <p>The tutorial reader may now check the balance of the <code>pubkey</code> used to launch the daemon using <a href="/basic-docs/antara/antara-api/tokens.html#tokenbalance">tokenbalance</a>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK tokenbalance insert_tokenid insert_pubkey
</code></pre></div><h2 id="create-an-oracle"><a href="#create-an-oracle" class="header-anchor">#</a> Create an Oracle</h2> <p>The <a href="/basic-docs/antara/antara-api/oracles.html#introduction">Oracles</a> Module is able to add external data to a blockchain. This modules allows the Pegs module to obtain the information needed regarding user activity and accurate prices.</p> <p>When creating a new oracle, the name of the oracle is identical to the name of the tokens, <code>KMD</code> and the data format starts with <code>Ihh</code> (height, blockhash, merkleroot).</p> <p>Create the oracle using <a href="/basic-docs/antara/antara-api/oracles.html#oraclescreate">oraclescreate</a>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK oraclescreate KMD blockheaders Ihh
</code></pre></div><p>The response is a hex value.</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;hex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0400008085202f890112a78e8450576dd6126c9676d61ff2570693ff441993127a75a0cc3521d14609020000004847304402206d05f874b04808f5d989325e140e0a618de8081909bc20db24fd70ebfd53fedc02205f88c98f2399119ab680a246ac0613dffabb4a77022cc755b9fca6c96f50c52d01ffffffff0310270000000000002321038c1d42db6a45a57eccb8981b078fb7857b9b496293fe299d2b8d120ac5b5691aacffb592c2da510000232102d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567ac00000000000000001d6a1bec43074b4d4454455354034968680c626c6f636b6865616465727300000000280100000000000000000000000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Broadcast the returned hex value using <a href="/basic-docs/smart-chains/smart-chain-api/rawtransactions.html#sendrawtransaction">sendrawtransaction</a>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK sendrawtransaction insert_hex_data
</code></pre></div><p>The response is a transaction id, called the <code>oracleid</code>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>ee684674d3671daf596395a9ca6c409381d1cf6c2c7ff05c65c6bb5c16967a0e
</code></pre></div><p>Record this value in the text editor.</p> <p>Execute the <code>oraclesfund</code> method to fund the oracle.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK oraclesfund ee684674d3671daf596395a9ca6c409381d1cf6c2c7ff05c65c6bb5c16967a0e
</code></pre></div><div class="collapsed"><button>Show Response</button> <div style="display:none;"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;hex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0400008085202f89010e7a96165cbbc6655cf07f2c6ccfd18193406ccaa9956359af1d67d3744668ee01000000494830450221008f3db99deddacc6cf6c39260faac62aa00395a808715923e0301d6063a23618d022044565a478e2fbf316f843ac96c2921f267da71701f51fd0c244aff1aedb00ed101ffffffff031027000000000000302ea22c8020de1ac583c081d079fd4118ec0c29fe975121739d8fba70103e5fb45614913cbe8103120c008203000401ccdf6792c2da510000232102d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567ac00000000000000004f6a4c4cec460e7a96165cbbc6655cf07f2c6ccfd18193406ccaa9956359af1d67d3744668ee2102d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567102700000000000000000000290100000000000000000000000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <p>Send the raw transaction by broadcasting the hex value.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK sendrawtransaction 0400008085202f89010e7a96165cbbc6655cf07f2c6ccfd18193406ccaa9956359af1d67d3744668ee01000000494830450221008f3db99deddacc6cf6c39260faac62aa00395a808715923e0301d6063a23618d022044565a478e2fbf316f843ac96c2921f267da71701f51fd0c244aff1aedb00ed101ffffffff031027000000000000302ea22c8020de1ac583c081d079fd4118ec0c29fe975121739d8fba70103e5fb45614913cbe8103120c008203000401ccdf6792c2da510000232102d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567ac00000000000000004f6a4c4cec460e7a96165cbbc6655cf07f2c6ccfd18193406ccaa9956359af1d67d3744668ee2102d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567102700000000000000000000290100000000000000000000000000
</code></pre></div><p>Response:</p> <div class="collapsed"><button>Show Response</button> <div style="display:none;"><div class="language-bash extra-class"><pre class="language-bash"><code>4f87b9769300282ce706eb0bd75d534d7cbbc940b04c1a7131c70e4b35f7c240
</code></pre></div></div></div> <p>Optionally use the <a href="/basic-docs/smart-chains/smart-chain-api/blockchain.html#getrawmempool">getrawmempool</a> method to ensure that the transaction receives confirmation.</p> <p>To prepare for the oraclefeed instance, use <a href="/basic-docs/antara/antara-api/oracles.html#oraclesregister">oraclesregister</a> to register as a publisher for the oracle. This command must be executed on a node which can post <code>KMD</code> block headers and which can execute withdrawal transactions.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK oraclesregister insert_oracleid data_fee_in_satoshis`
</code></pre></div><p>This returns a hex value which must be broadcast using <a href="/basic-docs/smart-chains/smart-chain-api/rawtransactions.html#sendrawtransaction">sendrawtransaction</a>. (Not shown for brevity)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK sendrawtransaction insert_hex_value
</code></pre></div><p>Retrieve the data publisher's <code>pubkey</code> using <a href="/basic-docs/antara/antara-api/oracles.html#oraclesinfo">oraclesinfo</a>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK oraclesinfo insert_oracleid
</code></pre></div><div class="collapsed"><button>Show Response</button> <div style="display:none;"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;txid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ee684674d3671daf596395a9ca6c409381d1cf6c2c7ff05c65c6bb5c16967a0e&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KMD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blockheaders&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ihh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;marker&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RKbG81CYx6Qtxnu59edtQS6isycKbbFB1o&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;registered&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;publisher&quot;</span><span class="token operator">:</span> <span class="token string">&quot;02d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;baton&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RSY69ZqzUADpqSeVNR7o3Jdo2UnXjMCbjq&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;batontxid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bfbdbc1062921b3e2620d57af2f7d6989ccc5dce5e6bdb2d8c2809ec98bdc44&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lifetime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;funds&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;datafee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00100000&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <p>The key, <code>&quot;publisher&quot;</code>, in the entry, <code>&quot;registered&quot;</code>, of the returned json object is the data publisher's <code>pubkey</code>, also called the <code>publisherpubkey</code>.</p> <p>Subscribe to the oracle using <a href="/basic-docs/antara/antara-api/oracles.html#oraclessubscribe">oraclessubscribe</a> to receive utxo information for data publishing.</p> <p>The frequency of data-publishing transactions that can be included in a block is equal to the number of active subscriptions committed to the oracle. Therefore, there must be at least one subscription for the oracle to allow publishing.</p> <p>Subscribe to the oracle using the following command.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK oraclessubscribe insert_oracleid insert_publisherpubkey insert_amount_of_funds_to_add
</code></pre></div><p>This returns a hex value that must be broadcast using <b>sendrawtransaction</b> (not shown for brevity).</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK sendrawtransaction insert_hex_value
</code></pre></div><p>In this tutorial example, the tutorial reader needs to be able to publish data more than once per block. Therefore, execute the <b>oraclessubscribe</b> and <b>sendrawtransaction</b> methods several times and with the same amount.</p> <p>Verify the oracle information to ensure it is properly established.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK oraclesinfo insert_oracleid
</code></pre></div><div class="collapsed"><button>Show Response</button> <div style="display:none;"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;txid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ee684674d3671daf596395a9ca6c409381d1cf6c2c7ff05c65c6bb5c16967a0e&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KMD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;blockheaders&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ihh&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;marker&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RKbG81CYx6Qtxnu59edtQS6isycKbbFB1o&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;registered&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;publisher&quot;</span><span class="token operator">:</span> <span class="token string">&quot;02d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;baton&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RSY69ZqzUADpqSeVNR7o3Jdo2UnXjMCbjq&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;batontxid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1bfbdbc1062921b3e2620d57af2f7d6989ccc5dce5e6bdb2d8c2809ec98bdc44&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;lifetime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.00000000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;funds&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.00000000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;datafee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00100000&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <h2 id="bind-the-token-and-oracle-to-a-gateway"><a href="#bind-the-token-and-oracle-to-a-gateway" class="header-anchor">#</a> Bind the Token and Oracle to a Gateway</h2> <p>Create a gateway and bind the data from this tutorial to the gateway using the <a href="/basic-docs/antara/antara-api/gateways.html#gatewaysbind">gatewaysbind</a> method.</p> <p>This method requires that tutorial reader decide how many total gateway signatures are desired (represented by the value <code>N</code>), and how many signatures are required to withdraw funds (represented by the value <code>M</code>).</p> <p>For this tutorial, the reader may set both <code>N</code> and <code>M</code> equal to <code>1</code> for simplicity.</p> <p>The <b>gatewaysbind</b> command requires that the user indicate the <code>pubtype</code>, <code>p2shtype</code>, and <code>wiftype</code> values for the chosen coin.  For Smart Chains, these values are <code>60</code>, <code>85</code> and <code>188</code> respectively.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK gatewaysbind insert_tokenid insert_oracleid KMD insert_tokensupply <span class="token number">1</span> <span class="token number">1</span> insert_gatewayspubkey <span class="token number">60</span> <span class="token number">85</span> <span class="token number">188</span>
</code></pre></div><p>This method returns a hex value that must be broadcast using <b>sendrawtransaction</b> (not shown for brevity).</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK sendrawtransaction insert_hex_value
</code></pre></div><p>The broadcast returns a transaction id, also called the <code>bindtxid</code>. Copy this information to the text editor.</p> <p>Assuming everything is properly created and executed, review the new gateway using <a href="/basic-docs/antara/antara-api/gateways.html#gatewaysinfo">gatewaysinfo</a>.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>HELLOWORLD gatewaysinfo insert_bindtxid
</code></pre></div><div class="collapsed"><button>Show Response</button> <div style="display:none;"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;result&quot;</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Gateways&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;M&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;N&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pubkeys&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;02d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;coin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;KMD&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;oracletxid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ee684674d3671daf596395a9ca6c409381d1cf6c2c7ff05c65c6bb5c16967a0e&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;taddr&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;prefix&quot;</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
  <span class="token property">&quot;prefix2&quot;</span><span class="token operator">:</span> <span class="token number">85</span><span class="token punctuation">,</span>
  <span class="token property">&quot;wiftype&quot;</span><span class="token operator">:</span> <span class="token number">188</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deposit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RN727JeeiZ6NXic7PUKTCiHT1HvuBN4RDa&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tokenid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0946d12135cca0757a12931944ff930657f21fd676966c12d66d5750848ea712&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;totalsupply&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100000.00000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;remaining&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100000.00000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;issued&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <p>Use the returned information to verify that the <code>tokenid</code> and <code>oracleid</code> match the information copied from this tutorial to the text editor.</p> <h2 id="start-the-oraclefeed-software"><a href="#start-the-oraclefeed-software" class="header-anchor">#</a> Start the oraclefeed software</h2> <p>The <code>oraclefeed</code> software instance automates the transfer of merkleroot data from the <code>KMD</code> chain to the oracle on the <code>CREATORUSDK</code> chain.</p> <p>Change into the directory where <code>komodod</code> and <code>komodo-cli</code> are compiled.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token builtin class-name">cd</span>  ~/komodo/src/
</code></pre></div><p>Compile the <code>oraclefeed</code> software instance.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gcc cc/dapps/oraclefeed.c -lm -o oraclefeed
</code></pre></div><p>Initiate the instance.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./oraclefeed CREATORUSDK insert_oracleid insert_mypubkey Ihh insert_bindtxid <span class="token string">&quot;cli command to access te external coin(KMD)&quot;</span>
</code></pre></div><p>Inserting the values.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./oraclefeed CREATORUSDK ee684674d3671daf596395a9ca6c409381d1cf6c2c7ff05c65c6bb5c16967a0e 02d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567 Ihh 0b5716554e523aa4678112a8ac3d15039e0aae6f4812b9d4c631cc9cfbf48786 <span class="token string">&quot;./komodo-cli&quot;</span>
</code></pre></div><div class="collapsed"><button>Show Response</button> <div style="display:none;"><div class="language-bash extra-class"><pre class="language-bash"><code>BTC/USD <span class="token number">8469.7417</span>
Powered by CoinDesk <span class="token punctuation">(</span>https://www.coindesk.com/price/<span class="token punctuation">)</span> <span class="token number">8469.74170000</span>
must supply reference coin
<span class="token builtin class-name">set</span> refcoin RN727JeeiZ6NXic7PUKTCiHT1HvuBN4RDa <span class="token operator">&lt;</span>- KMD <span class="token punctuation">[</span>./komodo-cli<span class="token punctuation">]</span> M.1 of N.1
broadcast CREATORUSDK txid.<span class="token punctuation">(</span>13bb4ba78686ae65894c79e67e346e8f8c0bde96dda8d041d4653ce203423b17<span class="token punctuation">)</span>
KMD ht.16 <span class="token operator">&lt;</span>- 10000000f7a5a84d008a6c4107c3bbad442a879355bd7f951e4bf5ac48b8458afa6a1600bbf054d5a9219e8034990f764106c719f9bfc278b1d909be4486ff52d8523ca6
broadcast CREATORUSDK txid.<span class="token punctuation">(</span>2eaef55baf9895b4a5b45f0450cc8b4b8e6f95563bc4c0d95086b3ff0d4d394a<span class="token punctuation">)</span>
KMD ht.17 <span class="token operator">&lt;</span>- 1100000010da30ab6d70443dc881c8ee85b02869b3520d016fcd076e4a1e67543a3a9c0714d4bad1c68f74d6d65b7e26ed821fc38aed36f03c101d117440e094823fb2fa
broadcast CREATORUSDK txid.<span class="token punctuation">(</span>eff38402e9669ffe7521ab98368e114e44fa8c5ec7a98d57bf600d6ba1cac45d<span class="token punctuation">)</span>
KMD ht.18 <span class="token operator">&lt;</span>- 1200000018d4169fde5fc716b9ebc44da85fa3cfe5d64adf94d4bee09d97bbbebaaeb80e098c0417881230d51281346f29d2566cd164b7ef0e6a6c08332f969f690e10c9
broadcast CREATORUSDK txid.<span class="token punctuation">(</span>388c23187083cdc789483d9b8af90c4a4ce3ecaf856785b86f00bf37db900ede<span class="token punctuation">)</span>
KMD ht.19 <span class="token operator">&lt;</span>- 13000000f1fea637bf33149d161bd5a1d20e0ad8911a3710cf941a318b68fa973d4d9403bb5521d6171bcb1d65d6cadff6916e96814b46ae2487d100987820367b702c2f
</code></pre></div></div></div> <h2 id="create-the-peg"><a href="#create-the-peg" class="header-anchor">#</a> Create the Peg</h2> <p>Create a peg that will create <code>CREATORUSDK</code> coins pegged to USD and backed by <code>KMD</code> using the <a href="/basic-docs/antara/antara-api/pegs.html#pegscreate">pegscreate</a> method.</p> <p>The <b>pegscreate</b> method is capable of creating a peg that is backed by more than one external coin. This is accomplished by adding more than one <code>bindtxid</code> to the <code>pegscreate</code> command.</p> <p>Each associated gateway requires a unique token, oracle, and a running instance of the <code>oraclefeed</code> software, as previously described in this tutorial.</p> <p>For the sake of simplicity, this tutorial utilizes only one gateway (bound to <code>KMD</code> coins).</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK pegscreate <span class="token number">100000</span> <span class="token number">1</span> 0b5716554e523aa4678112a8ac3d15039e0aae6f4812b9d4c631cc9cfbf48786
</code></pre></div><p>This method returns a hex value that must be broadcast using <b>sendrawtransaction</b> (not shown for brevity).</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodo-cli -ac_name<span class="token operator">=</span>CREATORUSDK sendrawtransaction insert_hex_value
</code></pre></div><p>The broadcast returns a transaction id, also called the <code>pegstxid</code>. Copy this information to the text editor.</p> <p>The <code>pegstxid</code> is the reference to the peg created in this tutorial. To make sure all the nodes running the <code>CREATORUSDK</code> chain are aware of the correct pegs contract, after the <code>pegstxid</code> transaction is mined the reader must shutdown any daemons running the chain. The tutorial reader then restarts the nodes, but with a slightly modified version of the launch parameters. The parameters now include <code>-earlytxid</code>, and this parameter is set equal to the value of <code>pegstxid</code>.</p> <p>In the following command, replace the text <code>&lt;pegstxid&gt;</code> with the <code>pegstxid</code> from this tutorial.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>./komodod -ac_supply<span class="token operator">=</span><span class="token number">1000000</span> -ac_reward<span class="token operator">=</span><span class="token number">10000</span> -ac_name<span class="token operator">=</span>CREATORUSDK -ac_cc<span class="token operator">=</span><span class="token number">2</span> -ac_import<span class="token operator">=</span>PEGSCC -ac_end<span class="token operator">=</span><span class="token number">1</span> -ac_perc<span class="token operator">=</span><span class="token number">0</span> -ac_cbopret<span class="token operator">=</span><span class="token number">5</span> -debug<span class="token operator">=</span>pegscc-2 -debug<span class="token operator">=</span>importcoin -debug<span class="token operator">=</span>cctokens -debug<span class="token operator">=</span>gatewayscc -printtoconsole<span class="token operator">=</span><span class="token number">1</span> -earkytxid<span class="token operator">=</span><span class="token operator">&lt;</span>pegstxid<span class="token operator">&gt;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">Note</p> <p>For any Smart Chain, the <code>-earlytxid</code> must be added to the launch parameters before the chain reaches a total block height of <code>100</code>. The tutorial reader may control the pace of mining on a Smart Chain with the commands <code>./komodo-cli setgenerate true 1</code> (starting) and <code>./komodo-cli setgenerate false</code> (stopping).</p></div> <p>Any new node joining the <code>CREATORUSDK</code> network must use the new launch parameters with the <code>-earlytxid</code> included.</p> <h2 id="test-the-setup"><a href="#test-the-setup" class="header-anchor">#</a> Test the Setup</h2> <p>Follow the <a href="/basic-docs/antara/antara-tutorials/pegs-module-user-tutorial.html">Pegs Module Tutorial - User</a> documentation to continue learning about the Pegs Antara Module.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/komodoplatform/Documentation/edit/master/docs/basic-docs/antara/antara-tutorials/pegs-module-creator-tutorial.md" target="_blank" rel="noopener noreferrer">Suggest an improvement for this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/basic-docs/antara/antara-tutorials/pegs-module-user-tutorial.html" class="prev">Module Tutorial — Pegs | User</a></span> <span class="next"><a href="/basic-docs/antara/antara-api/assets.html">Assets</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b45dc09f.js" defer></script><script src="/assets/js/3.f69df0a3.js" defer></script><script src="/assets/js/6.2478bcf7.js" defer></script><script src="/assets/js/62.563c0556.js" defer></script><script src="/assets/js/10.4572f463.js" defer></script>
  </body>
</html>
